
const u = require("wlj-utilities");

const solveSat = require("../../library/solveSat.js");
const index = require("../../index.js");
const parseSat = require("../../library/parseSat.js");

u.scope(__filename, x => {
    console.log(__filename + " entered");
    let sat = parseSat(`
p cnf 53 133
c Factors encoded in variables 1-3 and 4-6
c Target number: 5
2 3 0
5 6 0
-7 0
8 0
-18 10 12 0
-18 -10 -12 0
18 10 -12 0
18 -10 12 0
-10 -12 19 0
10 12 -19 0
10 -19 0
12 -19 0
-11 -13 21 0
-11 -19 21 0
-13 -19 21 0
11 13 -21 0
11 19 -21 0
13 19 -21 0
-22 14 21 0
-22 -14 -21 0
22 14 -21 0
22 -14 21 0
-14 -21 23 0
14 21 -23 0
14 -23 0
21 -23 0
-24 20 15 0
-24 -20 -15 0
24 20 -15 0
24 -20 15 0
-20 -15 25 0
20 15 -25 0
20 -25 0
15 -25 0
-22 -16 27 0
-22 -25 27 0
-16 -25 27 0
22 16 -27 0
22 25 -27 0
16 25 -27 0
-23 -17 29 0
-23 -27 29 0
-17 -27 29 0
23 17 -29 0
23 27 -29 0
17 27 -29 0
9 -1 -4 0
-9 1 0
-9 4 0
10 -2 -4 0
-10 2 0
-10 4 0
11 -3 -4 0
-11 3 0
-11 4 0
12 -1 -5 0
-12 1 0
-12 5 0
13 -2 -5 0
-13 2 0
-13 5 0
14 -3 -5 0
-14 3 0
-14 5 0
15 -1 -6 0
-15 1 0
-15 6 0
16 -2 -6 0
-16 2 0
-16 6 0
17 -3 -6 0
-17 3 0
-17 6 0
9 -8 0
-9 8 0
18 -7 0
-18 7 0
24 -8 0
-24 8 0
26 -7 0
-26 7 0
28 -7 0
-28 7 0
29 -7 0
-29 7 0
13 19 30 0
-20 11 -30 0
-13 19 31 0
-20 -11 -31 0
13 -19 32 0
-20 -11 -32 0
-13 -19 33 0
-20 11 -33 0
-13 -19 34 0
20 -11 -34 0
13 -19 35 0
20 11 -35 0
-13 19 36 0
20 11 -36 0
13 19 37 0
20 -11 -37 0
16 25 38 0
-26 22 -38 0
-16 25 39 0
-26 -22 -39 0
16 -25 40 0
-26 -22 -40 0
-16 -25 41 0
-26 22 -41 0
-16 -25 42 0
26 -22 -42 0
16 -25 43 0
26 22 -43 0
-16 25 44 0
26 22 -44 0
16 25 45 0
26 -22 -45 0
17 27 46 0
-28 23 -46 0
-17 27 47 0
-28 -23 -47 0
17 -27 48 0
-28 -23 -48 0
-17 -27 49 0
-28 23 -49 0
-17 -27 50 0
28 -23 -50 0
17 -27 51 0
28 23 -51 0
-17 27 52 0
28 23 -52 0
17 27 53 0
28 -23 -53 0
    `)

    let satisfied = solveSat(sat);
    // 5 cannot be factored; not satisifiable
    u.assert(() => !satisfied);
});
